{% extends "theme/base.html" %}
{% block title %}Sales Channels{% endblock %}
{% block page_title %}Sales Channels{% endblock %}
{% block breadcrumb %}<li class="breadcrumb-item"><a href="{% url 'settings' %}">Settings</a></li><li class="breadcrumb-item active">Channels</li>{% endblock %}

{% block content %}
<div class="card">
  <div class="card-header">
    <h3 class="card-title"><i class="fas fa-broadcast-tower mr-1"></i> Sales Channels</h3>
    <div class="card-tools"><a href="#" data-modal-url="{% url 'channel_create' %}" class="btn btn-sm btn-primary"><i class="fas fa-plus mr-1"></i> New Channel</a></div>
  </div>
  <div class="card-body table-responsive">
    <table class="table table-hover table-striped text-nowrap wis-table">
      <thead><tr><th>Code</th><th>Name</th><th>Description</th><th></th></tr></thead>
      <tbody>
        {% for ch in channels %}
        <tr>
          <td><strong>{{ ch.code }}</strong></td>
          <td>{{ ch.name }}</td>
          <td>{{ ch.description|truncatewords:10 }}</td>
          <td class="text-right">
            <a href="#" data-modal-url="{% url 'channel_edit' ch.pk %}" class="btn btn-xs btn-info"><i class="fas fa-edit"></i></a>
            <a href="#" data-modal-url="{% url 'channel_delete' ch.pk %}" class="btn btn-xs btn-danger"><i class="fas fa-trash"></i></a>
          </td>
        </tr>
        {% empty %}
        <tr><td colspan="4" class="text-center text-muted py-3">No channels yet. <a href="#" data-modal-url="{% url 'channel_create' %}">Create one</a>.</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
