{% extends "theme/base.html" %}

{% block title %}{{ title }}{% endblock %}
{% block page_title %}{{ title }}{% endblock %}
{% block breadcrumb %}
<li class="breadcrumb-item"><a href="{% url 'price_list_list' %}">Price Lists</a></li>
<li class="breadcrumb-item active">{{ title }}</li>
{% endblock %}

{% block content %}
<form method="post" novalidate>
  {% csrf_token %}
  <div class="card">
    <div class="card-header"><h3 class="card-title">{{ title }}</h3></div>
    <div class="card-body">
      {% if form.non_field_errors %}
      <div class="alert alert-danger">{% for e in form.non_field_errors %}{{ e }}{% endfor %}</div>
      {% endif %}
      {% for field in form %}
      <div class="form-group mb-3">
        <label for="{{ field.id_for_label }}" class="form-label">{{ field.label }}{% if field.field.required %} <span class="text-danger">*</span>{% endif %}</label>
        {% if field.field.widget.input_type == 'checkbox' %}<div class="form-check">{{ field }}</div>{% else %}{{ field }}{% endif %}
        {% if field.errors %}<div class="text-danger small mt-1">{% for e in field.errors %}{{ e }}{% endfor %}</div>{% endif %}
      </div>
      {% endfor %}
    </div>
  </div>
  <div class="card">
    <div class="card-header"><h3 class="card-title">Price Items</h3></div>
    <div class="card-body table-responsive p-2">
      {% include "theme/partials/formset_table.html" %}
    </div>
  </div>
  <div class="mb-3">
    <button type="submit" class="btn btn-primary"><i class="fas fa-save mr-1"></i> Save</button>
    <a href="{% url 'price_list_list' %}" class="btn btn-secondary"><i class="fas fa-times mr-1"></i> Cancel</a>
  </div>
</form>
{% endblock %}
