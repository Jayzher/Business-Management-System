{% extends "theme/partials/doc_print.html" %}
{% load humanize %}

{% block doc_header_info %}
<p>Date: {{ doc.receipt_date|date:"F d, Y" }}</p>
{% if doc.purchase_order %}<p>PO: {{ doc.purchase_order.document_number }}</p>{% endif %}
{% endblock %}

{% block info_boxes %}
<div class="info-box">
  <strong>Supplier</strong>
  {{ doc.supplier.name }}<br>
  {% if doc.supplier.contact_person %}{{ doc.supplier.contact_person }}<br>{% endif %}
  {% if doc.supplier.phone %}{{ doc.supplier.phone }}{% endif %}
</div>
<div class="info-box" style="text-align:right;">
  <strong>Receiving Warehouse</strong>
  {{ doc.warehouse.name }}<br>
  {{ doc.warehouse.code }}
</div>
{% endblock %}

{% block doc_table %}
<table>
  <thead>
    <tr><th>#</th><th>Item Code</th><th>Description</th><th>Location</th><th class="text-right">Qty Received</th><th>Unit</th><th>Batch #</th><th>Serial #</th></tr>
  </thead>
  <tbody>
    {% for line in doc.lines.all %}
    <tr>
      <td>{{ forloop.counter }}</td>
      <td>{{ line.item.code }}</td>
      <td>{{ line.item.name }}</td>
      <td>{{ line.location }}</td>
      <td class="text-right">{{ line.qty|floatformat:2 }}</td>
      <td>{{ line.unit.abbreviation }}</td>
      <td>{{ line.batch_number|default:"-" }}</td>
      <td>{{ line.serial_number|default:"-" }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
